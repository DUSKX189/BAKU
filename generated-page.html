<html lang="es" class="scroll-smooth overflow-x-hidden w-full"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>BAKU | Dessert Studio</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Inter', sans-serif;
    -webkit-font-smoothing: antialiased;
    background-color: #ffffff;
    overflow-x: hidden; /* Global Safety */
    width: 100%;
    max-width: 100vw;
}
/* Custom Scrollbar */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #e4e4e7; }
::-webkit-scrollbar-thumb:hover { background: #a1a1aa; }

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in { animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

/* Marquee */
@keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}
.animate-marquee {
    display: flex;
    width: fit-content;
    animation: marquee 20s linear infinite;
}
@media (min-width: 768px) {
    .animate-marquee { animation-duration: 40s; }
}

/* Utility */
.tracking-tighter-custom { letter-spacing: -0.04em; }
.tracking-widest-custom { letter-spacing: 0.15em; }

/* Grid Layout Fixes */
.product-grid-layout {
    display: grid;
    grid-template-columns: 240px minmax(0, 1fr); /* minmax(0, 1fr) prevents grid blowout */
    gap: 40px;
    width: 100%;
}
@media (max-width: 1024px) {
    .product-grid-layout {
        display: flex; /* Safer on mobile to switch to flex column */
        flex-direction: column;
        width: 100%;
        gap: 32px;
    }
}

/* Hide scrollbar for category pills */
.scrollbar-hide::-webkit-scrollbar { display: none; }
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

/* Text Reveal */
.text-reveal-content {
    transform: translateY(120%);
    transition: transform 1.2s cubic-bezier(0.16, 1, 0.3, 1);
    will-change: transform;
}
.is-visible .text-reveal-content { transform: translateY(0); }

/* Force Image Override */
.force-img-contain {
    max-width: 100% !important;
    width: 100%;
}
</style>
<link id="all-fonts-link-font-geist" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-geist">.font-geist { font-family: 'Geist', sans-serif !important; }</style><link id="all-fonts-link-font-roboto" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-roboto">.font-roboto { font-family: 'Roboto', sans-serif !important; }</style><link id="all-fonts-link-font-montserrat" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-montserrat">.font-montserrat { font-family: 'Montserrat', sans-serif !important; }</style><link id="all-fonts-link-font-poppins" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-poppins">.font-poppins { font-family: 'Poppins', sans-serif !important; }</style><link id="all-fonts-link-font-playfair" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;900&amp;display=swap"><style id="all-fonts-style-font-playfair">.font-playfair { font-family: 'Playfair Display', serif !important; }</style><link id="all-fonts-link-font-instrument-serif" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Instrument+Serif:wght@400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-instrument-serif">.font-instrument-serif { font-family: 'Instrument Serif', serif !important; }</style><link id="all-fonts-link-font-merriweather" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&amp;display=swap"><style id="all-fonts-style-font-merriweather">.font-merriweather { font-family: 'Merriweather', serif !important; }</style><link id="all-fonts-link-font-bricolage" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-bricolage">.font-bricolage { font-family: 'Bricolage Grotesque', sans-serif !important; }</style><link id="all-fonts-link-font-jakarta" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-jakarta">.font-jakarta { font-family: 'Plus Jakarta Sans', sans-serif !important; }</style><link id="all-fonts-link-font-manrope" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-manrope">.font-manrope { font-family: 'Manrope', sans-serif !important; }</style><link id="all-fonts-link-font-space-grotesk" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-space-grotesk">.font-space-grotesk { font-family: 'Space Grotesk', sans-serif !important; }</style><link id="all-fonts-link-font-work-sans" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-work-sans">.font-work-sans { font-family: 'Work Sans', sans-serif !important; }</style><link id="all-fonts-link-font-pt-serif" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=PT+Serif:wght@400;700&amp;display=swap"><style id="all-fonts-style-font-pt-serif">.font-pt-serif { font-family: 'PT Serif', serif !important; }</style><link id="all-fonts-link-font-geist-mono" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-geist-mono">.font-geist-mono { font-family: 'Geist Mono', monospace !important; }</style><link id="all-fonts-link-font-space-mono" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&amp;display=swap"><style id="all-fonts-style-font-space-mono">.font-space-mono { font-family: 'Space Mono', monospace !important; }</style><link id="all-fonts-link-font-quicksand" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-quicksand">.font-quicksand { font-family: 'Quicksand', sans-serif !important; }</style><link id="all-fonts-link-font-nunito" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700;800&amp;display=swap"><style id="all-fonts-style-font-nunito">.font-nunito { font-family: 'Nunito', sans-serif !important; }</style><link id="all-fonts-link-font-newsreader" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Newsreader:opsz,wght@6..72,400..800&amp;display=swap"><style id="all-fonts-style-font-newsreader">.font-newsreader { font-family: 'Newsreader', serif !important; }</style><link id="all-fonts-link-font-google-sans-flex" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Google+Sans+Flex:wght@400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-google-sans-flex">.font-google-sans-flex { font-family: 'Google Sans Flex', sans-serif !important; }</style><link id="all-fonts-link-font-oswald" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-oswald">.font-oswald { font-family: 'Oswald', sans-serif !important; }</style><link id="all-fonts-link-font-dm-sans" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&amp;display=swap"><style id="all-fonts-style-font-dm-sans">.font-dm-sans { font-family: 'DM Sans', sans-serif !important; }</style></head>
<body class="min-h-screen flex flex-col selection:bg-black selection:text-white text-black w-full overflow-x-hidden max-w-[100vw]">

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-6 right-6 z-[60] transform translate-y-24 opacity-0 transition-all duration-500 pointer-events-none max-w-[90vw]">
        <div class="bg-black text-white px-6 py-4 flex items-center gap-4 shadow-xl">
            <div class="rounded-full border border-white/20 p-1 flex-shrink-0">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="check" class="lucide lucide-check w-3 h-3 stroke-[1.5]"><path d="M20 6 9 17l-5-5"></path></svg>
            </div>
            <div>
                <p class="text-[10px] font-semibold uppercase tracking-widest-custom">Añadido</p>
                <p class="text-xs text-zinc-400 mt-0.5">Producto agregado a la cesta.</p>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <header class="fixed z-40 transition-all duration-300 bg-white/95 w-full border-black/5 border-b top-0 backdrop-blur-sm">
        <div class="md:px-12 flex md:h-20 md:pr-6 md:pl-6 w-full h-16 border-zinc-400 border pr-4 pl-4 items-center justify-between">
            <!-- Logo -->
            <button onclick="router('home')" class="hover:opacity-70 transition-opacity flex bg-center text-xl md:text-2xl font-bold tracking-tighter-custom bg-[url(https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/c3140926-c0d2-4355-8485-acd90b296add_320w.png)] bg-cover pt-3 md:pt-4 pr-8 md:pr-10 pb-3 md:pb-4 pl-8 md:pl-10 items-start"></button>
            
            <!-- Desktop Nav -->
            <nav class="hidden md:flex gap-x-12 gap-y-x-12 items-center">
                <button onclick="router('home')" class="text-[11px] uppercase hover:text-zinc-500 transition-colors tracking-widest-custom text-black font-bold" id="nav-home">Home</button>
                <button onclick="router('productos')" class="text-[11px] uppercase hover:text-zinc-500 transition-colors font-medium text-zinc-700 tracking-widest-custom" id="nav-productos">Productos</button>
                <button onclick="router('nosotros')" class="text-[11px] uppercase hover:text-zinc-500 transition-colors font-medium text-zinc-700 tracking-widest-custom" id="nav-nosotros">Nosotros</button>
                <button onclick="router('contacto')" class="text-[11px] uppercase hover:text-zinc-500 transition-colors font-medium text-zinc-700 tracking-widest-custom" id="nav-contacto">Contacto</button>
                <button onclick="toggleCart()" class="text-[11px] uppercase hover:text-zinc-500 transition-colors flex font-medium text-zinc-700 tracking-widest-custom gap-x-1 gap-y-1 items-center">
                    Cesta (<span id="header-count">0</span>)
                </button>
            </nav>

            <!-- Mobile Controls -->
            <div class="flex items-center gap-4 md:hidden">
                <button onclick="toggleCart()" class="text-sm font-medium tracking-wide uppercase">
                    (<span id="mobile-header-count">0</span>)
                </button>
                <button onclick="toggleMobileMenu()" class="p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="menu" class="lucide lucide-menu w-6 h-6 stroke-[1.5]"><path d="M4 5h16"></path><path d="M4 12h16"></path><path d="M4 19h16"></path></svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 z-50 bg-white transform translate-y-full transition-transform duration-500 flex flex-col pt-24 px-6 h-screen w-screen overflow-hidden">
        <button onclick="toggleMobileMenu()" class="absolute top-4 right-4 p-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="x" class="lucide lucide-x w-8 h-8 stroke-[1.5]"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
        </button>
        <nav class="flex flex-col gap-6 mt-8">
            <button onclick="router('home'); toggleMobileMenu()" class="text-4xl md:text-6xl font-semibold tracking-tighter text-left py-2 border-b border-zinc-100">Home</button>
            <button onclick="router('productos'); toggleMobileMenu()" class="text-4xl md:text-6xl font-semibold tracking-tighter text-left py-2 border-b border-zinc-100">Productos</button>
            <button onclick="router('nosotros'); toggleMobileMenu()" class="text-4xl md:text-6xl font-semibold tracking-tighter text-left py-2 border-b border-zinc-100">Nosotros</button>
            <button onclick="router('contacto'); toggleMobileMenu()" class="text-4xl md:text-6xl font-semibold tracking-tighter text-left py-2 border-b border-zinc-100">Contacto</button>
        </nav>
        <div class="mt-auto mb-12">
            <p class="text-zinc-400 text-sm uppercase tracking-widest">Baku Dessert Studio</p>
        </div>
    </div>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow relative min-h-screen w-full overflow-x-hidden pt-16 md:pt-20 max-w-[100vw]">
        
        <!-- HOME VIEW -->
        <div id="view-home" class="page-view w-full overflow-hidden animate-fade-in">
            
            <!-- Hero -->
            <section class="h-[calc(100vh-64px)] md:h-screen w-full flex flex-col items-center justify-center relative overflow-hidden bg-black">
                <div class="z-0 absolute inset-0">
                    <img src="https://images.unsplash.com/photo-1579306194872-64d3b7bac4c2?q=80&amp;w=2560&amp;auto=format&amp;fit=crop" class="object-center w-full h-full object-cover opacity-80" alt="Dessert Studio Background" id="hero-bg-image">
                    <div class="bg-black/30 absolute inset-0"></div>
                </div>
                <div class="select-none cursor-default text-white text-center w-full relative px-4">
                    <h1 class="text-[15vw] md:text-[12vw] leading-[0.85] flex flex-col items-center justify-center font-bold tracking-tighter w-full">
                        <span class="block">DESSERT</span>
                        <span class="relative">STUDIO</span>
                    </h1>
                </div>
            </section>

            <!-- Philosophy -->
            <section class="grid grid-cols-1 md:grid-cols-2 bg-white w-full max-w-none">
                <div class="flex flex-col p-6 md:pr-10 md:pt-9 md:pb-9 md:pl-16 pt-12 justify-center order-2 md:order-1">
                    <h2 class="leading-[0.9] uppercase text-4xl md:text-7xl lg:text-8xl font-semibold text-black tracking-tighter mb-6 md:mb-14">Handmade Bread with a Modern Vision</h2>
                    <p class="leading-relaxed text-base md:text-xl md:mb-14 font-normal text-zinc-500 text-left max-w-lg mb-8">Exploramos la intersección entre la panadería artesanal tradicional y la estéticacontemporánea. Ingredientes puros, tiempo y diseño.</p>
                    <div class="">
                        <button onclick="router('nosotros')" class="text-xs font-semibold uppercase tracking-widest border-b-[1.5px] border-black pb-0.5 hover:text-zinc-600 hover:border-zinc-600 transition-colors">
                            Conoce nuestra historia
                        </button>
                    </div>
                </div>
                <div class="flex w-full bg-white relative items-center justify-center p-6 md:p-12 order-1 md:order-2 border-b md:border-b-0 border-zinc-100">
                    <div class="relative w-full aspect-square md:aspect-auto md:h-full min-h-[300px] flex items-center justify-center overflow-hidden">
                        <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/f817f7b7-4802-46be-9931-25fbe59366e8_3840w.jpg" class="object-center md:max-w-full mix-blend-multiply w-full h-auto max-w-full object-contain" alt="Baku Products">
                    </div>
                </div>
            </section>

            <!-- Marquee -->
            <div class="overflow-hidden z-20 bg-black w-full border-black/10 border-t border-b py-3 md:py-4 relative">
                <div class="flex animate-marquee whitespace-nowrap text-white items-center" id="marquee-track">
                <span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">ARTISAN DESSERTS</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">CONTEMPORARY DESIGN</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">BAKU DESSERT STUDIO</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">20% OFF OUR SIGNATURE PRODUCTS</span> <span class="mx-2 md:mx-4 opacity-50">•</span>
                <span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">ARTISAN DESSERTS</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">CONTEMPORARY DESIGN</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">BAKU DESSERT STUDIO</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">20% OFF OUR SIGNATURE PRODUCTS</span> <span class="mx-2 md:mx-4 opacity-50">•</span>
                <span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">ARTISAN DESSERTS</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">CONTEMPORARY DESIGN</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">BAKU DESSERT STUDIO</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">20% OFF OUR SIGNATURE PRODUCTS</span> <span class="mx-2 md:mx-4 opacity-50">•</span>
                <span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">ARTISAN DESSERTS</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">CONTEMPORARY DESIGN</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">BAKU DESSERT STUDIO</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">20% OFF OUR SIGNATURE PRODUCTS</span> <span class="mx-2 md:mx-4 opacity-50">•</span>
            </div>
            </div>

            <!-- Featured Products -->
            <section class="bg-white border-black/10 border-t border-b overflow-hidden">
                <div class="pt-12 px-6 md:px-12 md:pt-24 pb-8 md:pb-12">
                    <h2 class="text-4xl md:text-8xl font-semibold text-black tracking-tighter mb-4 md:mb-6">SIGNATURE</h2>
                    <p class="text-base md:text-lg leading-relaxed font-medium text-black max-w-md">
                        Una selección de nuestras piezas más representativas, elegidas por quienes más disfrutan de nuestro estudio.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 px-6 md:px-12 gap-6 pb-12 md:pb-24">
                    <div class="group cursor-pointer flex flex-col justify-between aspect-[4/5] hover:bg-zinc-50 transition-colors bg-white border-black border p-6 relative w-full h-full overflow-hidden" onclick="openProductDetail('Red Velvet Cake')">
                         <div class="flex-1 flex items-center justify-center p-4 w-full h-full overflow-hidden">
                            <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4855b330-b7a5-4171-b05f-d5cb81f7999a_1600w.png" class="transition-transform duration-700 group-hover:scale-110 mix-blend-multiply w-full h-full object-contain max-w-full">
                         </div>
                         <div class="mt-4">
                            <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Red Velvet Cake</h3>
                         </div>
                    </div>

                    <div class="group cursor-pointer flex flex-col justify-between aspect-[4/5] hover:bg-zinc-50 transition-colors bg-white border-black border p-6 relative w-full h-full overflow-hidden" onclick="openProductDetail('Vanilla Glazed Donut')">
                         <div class="flex-1 flex items-center justify-center p-4 w-full h-full overflow-hidden">
                            <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/55bee42c-f9dd-4318-b93a-5bab48b98455_800w.png" class="transition-transform duration-700 group-hover:scale-110 mix-blend-multiply w-full h-full object-contain max-w-full">
                         </div>
                         <div class="mt-4">
                            <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Vanilla Donut</h3>
                         </div>
                    </div>

                    <div class="group cursor-pointer flex flex-col justify-between aspect-[4/5] hover:bg-zinc-50 transition-colors bg-white border-black border p-6 relative w-full h-full overflow-hidden" onclick="openProductDetail('Lemon Pie')">
                         <div class="flex-1 flex items-center justify-center p-4 w-full h-full overflow-hidden">
                            <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/b98c0a5f-1c47-4226-822c-eb900acd25e9_800w.png" class="transition-transform duration-700 group-hover:scale-110 mix-blend-multiply w-full h-full object-contain max-w-full">
                         </div>
                         <div class="mt-4">
                            <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Lemon Pie</h3>
                         </div>
                    </div>
                </div>
            </section>

            <!-- Estudio Section -->
            <section class="grid grid-cols-1 md:grid-cols-2 overflow-hidden border-black/10 border-b">
                <div class="md:p-24 flex flex-col md:border-t-0 order-2 md:order-1 border-black/10 border-t pt-6 pr-6 pb-6 pl-6 justify-center">
                    <span class="text-[10px] uppercase font-semibold text-zinc-500 tracking-widest-custom mb-6 md:mb-8">NUESTRA FILOSOFÍA</span>
                    <h2 class="leading-[0.95] md:text-8xl md:mb-8 text-4xl font-semibold tracking-tighter mb-6" style="">MENOS AZÚCAR MÁS SABOR REAL</h2>
                    <p class="leading-relaxed text-sm md:text-sm font-normal text-zinc-700 max-w-md mb-8 md:mb-16">En BAKU trabajamos con pocos ingredientes y mucha intención. Creemos en una pastelería que no oculta su sabor, sino que lo revela: frutas de temporada, harinas honestas y técnicas precisas.</p>
                </div>
                <div class="flex order-1 md:order-2 w-full border-0 md:border-l border-black/10 p-12 md:p-12 items-center justify-center bg-zinc-50 md:bg-white overflow-hidden">
                    <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/02ea7ead-dbcc-4df2-a28a-ccfb47c31ced_800w.png" class="hover:scale-105 transition-transform duration-700 max-w-full md:max-w-5xl object-contain">
                </div>
            </section><div class="overflow-hidden z-20 md:py-4 bg-black w-full border-black/10 border-t border-b pt-3 pb-3 relative">
                <div class="flex animate-marquee whitespace-nowrap text-white items-center" id="marquee-track">
                <span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">ARTISAN DESSERTS</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">CONTEMPORARY DESIGN</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">BAKU DESSERT STUDIO</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">20% OFF OUR SIGNATURE PRODUCTS</span> <span class="mx-2 md:mx-4 opacity-50">•</span>
                <span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">ARTISAN DESSERTS</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">CONTEMPORARY DESIGN</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">BAKU DESSERT STUDIO</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">20% OFF OUR SIGNATURE PRODUCTS</span> <span class="mx-2 md:mx-4 opacity-50">•</span>
                <span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">ARTISAN DESSERTS</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">CONTEMPORARY DESIGN</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">BAKU DESSERT STUDIO</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">20% OFF OUR SIGNATURE PRODUCTS</span> <span class="mx-2 md:mx-4 opacity-50">•</span>
                <span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">ARTISAN DESSERTS</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">CONTEMPORARY DESIGN</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">BAKU DESSERT STUDIO</span><span class="mx-2 md:mx-4 opacity-50">•</span><span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">20% OFF OUR SIGNATURE PRODUCTS</span> <span class="mx-2 md:mx-4 opacity-50">•</span>
            </div>
            </div>

            <!-- Work With Us -->
            
            
            <section class="grid grid-cols-1 md:grid-cols-2 bg-white w-full border-black/10 border-b overflow-hidden">
                <div class="p-8 md:p-24 flex flex-col md:border-r border-b md:border-b-0 border-black/10 justify-center">
                    <div class="mb-8">
                        <span class="text-[10px] uppercase font-semibold text-zinc-400 tracking-widest-custom block">(CONTACTO)</span>
                    </div>
                    <h2 class="leading-[0.85] text-5xl md:text-8xl lg:text-9xl font-semibold tracking-tighter mb-8 md:mb-12 text-black">
                        <span class="block">WORK</span>
                        <span class="block">WITH US</span>
                    </h2>
                    <p class="leading-relaxed text-sm md:text-base font-normal text-zinc-600 max-w-lg">
                        Abrimos la agenda a eventos y colaboraciones que nos emocionen. Si tienes esa idea que te da vueltas, tráela.
                    </p>
                </div>

                <div class="p-6 md:p-24 flex flex-col justify-center">
                   <form class="flex flex-col gap-8 md:gap-10 w-full max-w-lg mx-auto md:mx-0">
                      <div class="group">
                         <input type="text" placeholder="TU NOMBRE" class="w-full bg-transparent border-b border-black/10 py-4 md:py-6 text-2xl md:text-5xl font-medium placeholder:text-zinc-200 text-black focus:outline-none focus:border-black transition-colors uppercase tracking-tight">
                      </div>
                      <div class="group">
                         <input type="email" placeholder="EMAIL" class="w-full bg-transparent border-b border-black/10 py-4 md:py-6 text-2xl md:text-5xl font-medium placeholder:text-zinc-200 text-black focus:outline-none focus:border-black transition-colors uppercase tracking-tight">
                      </div>
                      <div class="group">
                         <input type="text" placeholder="TU PROYECTO" class="w-full bg-transparent border-b border-black/10 py-4 md:py-6 text-2xl md:text-5xl font-medium placeholder:text-zinc-200 text-black focus:outline-none focus:border-black transition-colors uppercase tracking-tight">
                      </div>
                      <button type="button" class="mt-8 md:mt-12 flex items-center gap-2 text-xs font-bold uppercase tracking-widest-custom hover:opacity-60 transition-opacity w-fit text-black group">
                            <span class="border-b border-black pb-0.5 group-hover:border-transparent transition-colors">ENVIAR CONSULTA</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right w-4 h-4 stroke-[1.5]"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg>
                      </button>
                   </form>
                </div>
            </section>

            <!-- Typographic Statement -->
            <section class="overflow-hidden bg-white w-full border-black/10 border-b">
                <div class="px-6 py-12 md:px-12 md:py-32 w-full">
                    <h2 class="flex flex-col text-[9vw] md:text-[8vw] leading-[0.9] md:leading-[0.8] font-semibold tracking-tighter text-black uppercase text-left" id="statement-text">
                        <span class="block overflow-hidden"><span class="block text-reveal-content">DESSERT IS A FORM OF</span></span>
                        <span class="block overflow-hidden"><span class="block text-reveal-content" style="transition-delay: 0.1s">ART WE CREATE MODERN</span></span>
                        <span class="block overflow-hidden"><span class="block text-reveal-content" style="transition-delay: 0.2s">SWEET EXPERIENCES</span></span>
                        <span class="block overflow-hidden"><span class="block text-reveal-content" style="transition-delay: 0.3s">DESSERT STUDIO 2025*</span></span>
                    </h2>
                </div>
            </section>
        </div>

        <!-- PRODUCTS VIEW -->
        <div id="view-productos" class="page-view hidden w-full overflow-hidden">
            <div class="pt-8 md:pt-16 px-6 md:px-12 pb-24 max-w-[1920px] mx-auto animate-fade-in w-full">
                
                <h1 class="text-4xl md:text-6xl font-semibold tracking-tighter mb-8 md:mb-12 mt-4">OUR PRODUCTS</h1>

                <!-- Layout Container -->
                <div class="product-grid-layout w-full">
                    <!-- Desktop Categories -->
                    <aside class="hidden lg:flex flex-col h-[calc(100vh-200px)] sticky pb-8 top-32 justify-between">
                        <div class="">
                            <h3 class="text-[11px] font-semibold uppercase tracking-widest-custom mb-8 text-black">Categorías</h3>
                            <div class="flex flex-col gap-4" id="desktop-filters">
                                <button onclick="filterProducts('Catálogo')" class="text-[11px] font-semibold uppercase tracking-widest-custom text-left transition-colors text-black font-bold" data-cat="Catálogo">Catálogo</button>
                                <button onclick="filterProducts('Panes')" class="text-[11px] font-semibold uppercase tracking-widest-custom text-left text-zinc-400 hover:text-black transition-colors font-normal" data-cat="Panes">Panes</button>
                                <button onclick="filterProducts('Bollería')" class="text-[11px] font-semibold uppercase tracking-widest-custom text-left text-zinc-400 hover:text-black transition-colors font-normal" data-cat="Bollería">Bollería</button>
                                <button onclick="filterProducts('Tartas')" class="text-[11px] font-semibold uppercase tracking-widest-custom text-left text-zinc-400 hover:text-black transition-colors font-normal" data-cat="Tartas">Tartas</button>
                                <button onclick="filterProducts('Postres')" class="text-[11px] font-semibold uppercase tracking-widest-custom text-left text-zinc-400 hover:text-black transition-colors font-normal" data-cat="Postres">Postres</button>
                                <button onclick="filterProducts('Galletas')" class="text-[11px] font-semibold uppercase tracking-widest-custom text-left text-zinc-400 hover:text-black transition-colors font-normal" data-cat="Galletas">Galletas</button>
                            </div>
                        </div>
                        <div class="flex justify-between items-baseline border-t border-black/10 pt-6">
                            <span class="text-[11px] font-semibold uppercase tracking-widest-custom text-black">Resultados</span>
                            <span class="text-sm font-semibold tracking-tight text-black" id="filtered-count">12</span>
                        </div>
                    </aside>

                    <!-- Mobile Categories -->
                    <div class="lg:hidden w-full mb-6 sticky top-16 md:top-20 z-30 bg-white/95 backdrop-blur-sm py-2 -mx-6 px-6 border-b border-black/5">
                        <div class="flex gap-2 overflow-x-auto scrollbar-hide" id="mobile-filters">
                             <button onclick="filterProducts('Catálogo')" class="text-[10px] font-bold uppercase tracking-widest-custom whitespace-nowrap bg-black text-white px-4 py-2 border border-black rounded-sm transition-colors flex-shrink-0" data-cat="Catálogo">Catálogo</button>
                             <button onclick="filterProducts('Panes')" class="text-[10px] font-semibold uppercase tracking-widest-custom whitespace-nowrap text-zinc-500 bg-zinc-50 px-4 py-2 border border-zinc-100 rounded-sm hover:border-black hover:text-black transition-colors flex-shrink-0" data-cat="Panes">Panes</button>
                             <button onclick="filterProducts('Bollería')" class="text-[10px] font-semibold uppercase tracking-widest-custom whitespace-nowrap text-zinc-500 bg-zinc-50 px-4 py-2 border border-zinc-100 rounded-sm hover:border-black hover:text-black transition-colors flex-shrink-0" data-cat="Bollería">Bollería</button>
                             <button onclick="filterProducts('Tartas')" class="text-[10px] font-semibold uppercase tracking-widest-custom whitespace-nowrap text-zinc-500 bg-zinc-50 px-4 py-2 border border-zinc-100 rounded-sm hover:border-black hover:text-black transition-colors flex-shrink-0" data-cat="Tartas">Tartas</button>
                             <button onclick="filterProducts('Postres')" class="text-[10px] font-semibold uppercase tracking-widest-custom whitespace-nowrap text-zinc-500 bg-zinc-50 px-4 py-2 border border-zinc-100 rounded-sm hover:border-black hover:text-black transition-colors flex-shrink-0" data-cat="Postres">Postres</button>
                             <button onclick="filterProducts('Galletas')" class="text-[10px] font-semibold uppercase tracking-widest-custom whitespace-nowrap text-zinc-500 bg-zinc-50 px-4 py-2 border border-zinc-100 rounded-sm hover:border-black hover:text-black transition-colors flex-shrink-0" data-cat="Galletas">Galletas</button>
                        </div>
                    </div>

                    <!-- Grid -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full" id="product-grid">
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 0ms" onclick="openProductDetail('Red Velvet Cake')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4855b330-b7a5-4171-b05f-d5cb81f7999a_1600w.png" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Red Velvet Cake">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Red Velvet Cake</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 50ms" onclick="openProductDetail('Vanilla Glazed Donut')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://images.unsplash.com/photo-1612203985729-70726954388c?q=80&amp;w=600&amp;auto=format&amp;fit=crop" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Vanilla Glazed Donut">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Vanilla Glazed Donut</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 100ms" onclick="openProductDetail('Carrot Cake')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/917d6f93-fb36-439a-8c48-884b67b35381_1600w.jpg" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Carrot Cake">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Carrot Cake</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 150ms" onclick="openProductDetail('Crema Catalana')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://images.unsplash.com/photo-1488477181946-6428a0291777?q=80&amp;w=800&amp;auto=format&amp;fit=crop" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Crema Catalana">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Crema Catalana</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 200ms" onclick="openProductDetail('Brownie Clásico')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/917d6f93-fb36-439a-8c48-884b67b35381_1600w.jpg" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Brownie Clásico">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Brownie Clásico</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 250ms" onclick="openProductDetail('Roll de Canela')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://images.unsplash.com/photo-1509365465985-25d11c17e812?q=80&amp;w=800&amp;auto=format&amp;fit=crop" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Roll de Canela">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Roll de Canela</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 300ms" onclick="openProductDetail('Cheesecake')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://images.unsplash.com/photo-1533134242443-d4fd215305ad?q=80&amp;w=800&amp;auto=format&amp;fit=crop" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Cheesecake">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Cheesecake</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 350ms" onclick="openProductDetail('Lemon Pie')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/c543a9e1-f226-4ced-80b0-feb8445a75b9_1600w.jpg" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Lemon Pie">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Lemon Pie</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 400ms" onclick="openProductDetail('Sourdough Bread')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4734259a-bad7-422f-981e-ce01e79184f2_1600w.jpg" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Sourdough Bread">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Sourdough Bread</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 450ms" onclick="openProductDetail('Chocolate Chip Cookie')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/c543a9e1-f226-4ced-80b0-feb8445a75b9_1600w.jpg" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Chocolate Chip Cookie">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Chocolate Chip Cookie</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 500ms" onclick="openProductDetail('Pan de Centeno')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://images.unsplash.com/photo-1509440159596-0249088772ff?q=80&amp;w=800&amp;auto=format&amp;fit=crop" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Pan de Centeno">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Pan de Centeno</h3>
                    </div>
                </div>
            
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: 550ms" onclick="openProductDetail('Pistachio Cookie')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://images.unsplash.com/photo-1590080875515-8a3a8dc5735e?q=80&amp;w=800&amp;auto=format&amp;fit=crop" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="Pistachio Cookie">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">Pistachio Cookie</h3>
                    </div>
                </div>
            </div>
                </div>
            </div>
        </div>

        <!-- PRODUCT DETAIL VIEW -->
        <div id="view-product-detail" class="page-view hidden w-full overflow-hidden">
            <div class="pt-8 md:pt-16 px-6 md:px-12 pb-24 max-w-[1920px] mx-auto animate-fade-in w-full">
                <h1 class="text-4xl md:text-6xl font-semibold tracking-tighter mb-8 md:mb-12">OUR PRODUCTS</h1>
                
                <div class="border border-black/10 w-full bg-white grid grid-cols-1 md:grid-cols-2">
                    <div class="relative p-8 md:p-12 md:border-r border-black/10 border-b md:border-b-0 flex items-center justify-center bg-white aspect-square md:aspect-auto min-h-[300px] md:min-h-[500px] overflow-hidden">
                        <img id="detail-image" src="" alt="Product" class="w-full h-auto object-contain mix-blend-multiply max-w-[80%] max-h-[80%] force-img-contain">
                    </div>

                    <div class="relative p-6 md:p-16 flex flex-col justify-center min-h-[400px] md:min-h-[500px]">
                        <button onclick="router('productos')" class="absolute top-6 right-6 md:top-8 md:right-8 text-sm md:text-lg font-medium text-zinc-400 hover:text-black transition-colors tracking-tight">Back</button>

                        <div class="flex-1 flex flex-col justify-center mt-12 md:mt-0">
                            <h2 id="detail-title" class="text-4xl md:text-6xl lg:text-7xl font-semibold tracking-tighter text-black leading-[0.9] mb-4"></h2>
                            <p id="detail-price" class="text-2xl md:text-4xl font-medium tracking-tight text-zinc-300 mb-6 md:mb-10"></p>
                            <p id="detail-desc" class="text-base md:text-xl font-normal text-zinc-800 leading-relaxed max-w-md"></p>
                        </div>

                        <div class="mt-12 md:mt-16 flex flex-col md:flex-row md:items-end justify-between w-full gap-6">
                            <button id="detail-add-btn" class="w-full md:w-auto bg-black md:bg-transparent text-white md:text-black py-4 md:py-0 text-center text-sm md:text-2xl font-semibold md:underline decoration-1 underline-offset-4 hover:opacity-70 transition-opacity tracking-tight uppercase md:normal-case">Add to Cart</button>
                            
                            <div class="flex items-center justify-center gap-2">
                                <button id="detail-prev-btn" class="text-lg md:text-xl font-medium text-zinc-400 hover:text-black transition-colors tracking-tight">Previus</button>
                                <span class="text-lg text-zinc-300">/</span>
                                <button id="detail-next-btn" class="text-lg md:text-xl font-medium text-zinc-400 hover:text-black transition-colors tracking-tight">Next</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- NOSOTROS VIEW -->
        <div id="view-nosotros" class="page-view hidden w-full overflow-hidden">
            <div class="min-h-screen flex flex-col overflow-hidden animate-fade-in md:pt-24 bg-white pt-12 pb-12 relative justify-between">
                
                <div class="flex flex-col bg-white w-full z-20 pt-12 md:pt-24 pb-20 md:pb-40 relative items-center justify-center">
                    <div class="flex flex-col animate-fade-in w-full pr-6 pl-6 items-center">
                        <span class="text-[10px] md:text-xs font-medium uppercase tracking-[0.2em] text-zinc-400 border-b border-zinc-300 pb-1 mb-8 md:mb-24">Based in Madrid</span>
                        <h2 class="text-4xl md:text-7xl lg:text-[7rem] font-semibold tracking-tighter text-center text-black leading-[0.9] max-w-7xl mb-8 md:mb-24">"We are Artisans with a Studio Mindset."</h2>
                        <p class="text-sm md:text-xl leading-relaxed font-normal text-zinc-600 text-center max-w-4xl px-4"><span class="font-semibold text-black">BAKU dessert studio</span>, somos un obrador moderno con una visión clara: diseñar productos con identidad, atención al detalle y una estética cuidada.</p>
                    </div>
                </div>
                
                <div class="px-6 md:px-12 flex z-10 w-full relative items-start justify-between">
                    <span class="text-[10px] uppercase font-semibold text-zinc-500 tracking-widest-custom">Dessert Studio 2025</span>
                    <span class="text-[10px] font-semibold uppercase tracking-widest-custom text-zinc-500">Nosotros</span>
                </div>
                
                <div class="flex-1 flex flex-col md:flex-row z-20 gap-6 md:gap-0 overflow-hidden w-full mt-10 mb-10 pt-10 pb-20 relative gap-x-6 gap-y-6 items-center justify-center">
                    <div class="group relative w-[70vw] md:w-[320px] aspect-[2/3] bg-white shadow-2xl p-3 transform md:-rotate-12 md:translate-x-12 hover:scale-105 md:hover:scale-110 hover:z-50 md:hover:rotate-0 transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] cursor-pointer z-10 border border-zinc-100">
                         <div class="w-full h-full relative overflow-hidden bg-zinc-100">
                            <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/6c748dea-6043-49fa-96de-7962710a4267_800w.png" class="group-hover:grayscale-0 transition-all duration-700 w-full h-full object-contain">
                         </div>
                    </div>
                    <div class="group relative w-[70vw] md:w-[320px] aspect-[2/3] bg-white shadow-2xl p-3 transform md:-rotate-3 z-20 hover:scale-105 md:hover:scale-110 hover:z-50 md:hover:rotate-0 transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] cursor-pointer border border-zinc-100 md:mx-[-80px]">
                        <div class="w-full h-full relative overflow-hidden bg-zinc-100 flex items-center justify-center">
                            <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/960b9892-b484-45bd-93e1-39675b208be5_800w.png" class="bg-slate-50 w-full h-full object-contain">
                        </div>
                    </div>
                    <div class="group relative w-[70vw] md:w-[320px] aspect-[2/3] bg-white shadow-2xl p-3 transform md:rotate-12 md:-translate-x-12 hover:scale-105 md:hover:scale-110 hover:z-50 md:hover:rotate-0 transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] cursor-pointer z-10 border border-zinc-100">
                        <div class="w-full h-full relative overflow-hidden bg-zinc-100">
                            <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/003e3091-058b-4fd5-a2f6-326eb20baca2_1600w.png" class="mix-blend-multiply w-full h-full object-cover">
                        </div>
                    </div>
                </div>

                <h1 class="text-[18vw] leading-[0.75] font-semibold tracking-tighter text-center text-black pointer-events-none select-none z-0 mt-auto md:-mb-10 mix-blend-difference relative">ABOUT US</h1>
            </div>
        </div>

        <!-- CONTACTO VIEW -->
        <div id="view-contacto" class="page-view hidden w-full overflow-hidden">
            <div class="min-h-screen flex flex-col pt-16 md:pt-20">
                <section class="grid grid-cols-1 md:grid-cols-2 flex-grow border-b border-black/10">
                    <div class="p-8 md:p-24 flex flex-col md:border-r border-black/10 justify-center border-b md:border-b-0">
                        <div class="mb-8 md:mb-12">
                            <span class="text-[10px] uppercase font-semibold text-zinc-400 tracking-widest-custom block">(CONTACTO)</span>
                        </div>
                        <h2 class="leading-[0.85] text-5xl md:text-9xl font-semibold tracking-tighter mb-8 md:mb-12">
                            <span class="block my-2">WORK</span>
                            <span class="block -multi">WITH US</span>
                        </h2>
                        <p class="leading-relaxed text-sm md:text-base font-normal text-zinc-600 max-w-md">
                            Abrimos la agenda a eventos y colaboraciones que nos emocionen. Si tienes esa idea que te da vueltas, tráela.
                        </p>
                    </div>
                    <div class="p-6 md:p-24 flex flex-col justify-center">
                       <form class="flex flex-col gap-8 md:gap-10 w-full max-w-lg mx-auto md:mx-0">
                          <div class="group"><input type="text" placeholder="TU NOMBRE" class="w-full bg-transparent border-b border-black/10 py-4 md:py-6 text-2xl md:text-5xl font-medium placeholder:text-zinc-200 text-black focus:outline-none focus:border-black transition-colors uppercase tracking-tight"></div>
                          <div class="group"><input type="email" placeholder="EMAIL" class="w-full bg-transparent border-b border-black/10 py-4 md:py-6 text-2xl md:text-5xl font-medium placeholder:text-zinc-200 text-black focus:outline-none focus:border-black transition-colors uppercase tracking-tight"></div>
                          <div class="group"><input type="text" placeholder="TU PROYECTO" class="text-2xl md:text-5xl placeholder:text-zinc-200 focus:outline-none focus:border-black transition-colors uppercase font-medium text-black tracking-tight bg-transparent w-full border-black/10 border-b py-4 md:py-6"></div>
                          <button type="button" class="mt-8 md:mt-12 flex items-center gap-2 text-xs font-bold uppercase tracking-widest-custom hover:opacity-60 transition-opacity w-fit text-black group">
                                <span class="border-b border-black pb-0.5 group-hover:border-transparent transition-colors">ENVIAR CONSULTA</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right w-4 h-4 stroke-[1.5]"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg>
                          </button>
                       </form>
                    </div>
                </section>
            </div>
        </div>

    </main>

    <!-- FOOTER -->
    <footer class="text-black bg-white border-black/10 border-t w-full overflow-hidden">
        <div class="px-6 py-12 md:px-12 md:pb-10 md:pt-10 max-w-[1920px] mr-auto ml-auto">
            <div class="flex flex-col lg:flex-row gap-12 lg:gap-24">
                <div class="flex-1 flex flex-col justify-center items-center lg:items-start min-h-[200px] lg:min-h-0">
                    <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/aba01845-01ea-4dbd-b72f-625f32e2e7b5_1600w.png" alt="Baku Dessert Studio" class="w-full h-full object-contain object-center lg:object-left max-h-[200px] lg:max-h-[500px]">
                </div>
                <div class="flex-1 flex flex-col justify-between pt-4">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-4 lg:gap-12">
                        <div class="">
                            <h4 class="font-bold text-sm uppercase mb-4 md:mb-6 tracking-wide">Contact</h4>
                            <ul class="space-y-2 md:space-y-3 text-zinc-500 text-sm font-medium">
                                <li class=""><a href="#" class="hover:text-black transition-colors">hello@baku.studio</a></li>
                                <li class="">M/F 10am - 6pm</li>
                                <li class="">Based in Spain</li>
                            </ul>
                        </div>
                        <div class="">
                            <h4 class="font-bold text-sm uppercase mb-4 md:mb-6 tracking-wide">Legal</h4>
                            <ul class="space-y-2 md:space-y-3 text-zinc-500 text-sm font-medium">
                                <li class=""><a href="#" class="hover:text-black transition-colors">Privacy Policy</a></li>
                                <li class=""><a href="#" class="hover:text-black transition-colors">Terms &amp; Conditions</a></li>
                            </ul>
                        </div>
                        <div class="">
                            <h4 class="font-bold text-sm uppercase mb-4 md:mb-6 tracking-wide">Follow Us</h4>
                            <ul class="space-y-2 md:space-y-3 text-zinc-500 text-sm font-medium">
                                <li class=""><a href="https://www.instagram.com/baku_dessert?igsh=MTA3bzYyMmZ2b2xmOQ%3D%3D" class="hover:text-black transition-colors">Instagram</a></li>
                                <li class=""><a href="#" class="hover:text-black transition-colors">TikTok</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="flex flex-col md:flex-row md:items-end gap-6 mt-12 md:mt-20 justify-between">
                        <div class="max-w-xs">
                            <p class="leading-relaxed text-sm text-zinc-500">Pastelería artesanal con visión contemporánea.</p>
                        </div>
                        <div class="text-zinc-400 text-sm">© 2025 Baku Dessert Studio.</div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- CART DRAWER -->
    <div id="cart-overlay" onclick="toggleCart()" class="fixed inset-0 bg-white/50 backdrop-blur-sm z-[60] opacity-0 pointer-events-none transition-opacity duration-300"></div>
    <div id="cart-drawer" class="fixed top-0 right-0 w-full md:max-w-[500px] h-full bg-white z-[61] transform translate-x-full transition-transform duration-500 border-l border-zinc-100 shadow-[0_0_40px_rgba(0,0,0,0.05)] flex flex-col">
        <div class="p-6 md:p-8 flex items-center justify-between border-b border-zinc-100">
            <h2 class="text-xl md:text-2xl font-semibold tracking-tighter">CESTA (<span id="cart-count-header">0</span>)</h2>
            <button onclick="toggleCart()" class="p-2 hover:bg-zinc-50 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="x" class="lucide lucide-x w-6 h-6 stroke-[1.5]"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
            </button>
        </div>
        <div id="cart-items" class="flex-1 overflow-y-auto p-6 md:p-8 space-y-6 md:space-y-8"></div>
        <div class="p-6 md:p-8 bg-zinc-50 border-t border-zinc-100">
            <div class="flex justify-between items-end mb-6 md:mb-8">
                <span class="text-[10px] uppercase tracking-widest font-semibold text-zinc-400">Total Estimado</span>
                <span class="text-2xl font-medium tracking-tight" id="cart-subtotal">0.00€</span>
            </div>
            <button class="w-full bg-black text-white py-4 md:py-5 text-[10px] font-semibold uppercase tracking-widest-custom hover:bg-zinc-800 transition-colors flex justify-between px-6 items-center group">
                <span style="">Tramitar Pedido</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="arrow-right" class="lucide lucide-arrow-right w-4 h-4 group-hover:translate-x-1 transition-transform stroke-[1.5]"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg>
            </button>
        </div>
    </div>

    <!-- Logic -->
    <script>
        const products = [
            { id: 1, name: 'Red Velvet Cake', price: 24.50, category: 'Tartas', img: 'https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4855b330-b7a5-4171-b05f-d5cb81f7999a_1600w.png', desc: 'Una porción de Red Velvet elaborada con cacao suave y un bizcocho húmedo de color intenso. Cubierta con crema de queso ligera y equilibrada, pensada para aportar dulzor sin saturar. Una receta clásica reinterpretada con un toque moderno y artesano.' },
            { id: 2, name: 'Vanilla Glazed Donut', price: 4.50, category: 'Bollería', img: 'https://images.unsplash.com/photo-1612203985729-70726954388c?q=80&w=600&auto=format&fit=crop', desc: 'Masa de fermentación lenta (24h) frita en aceite de oliva suave y bañada en un glaseado de vainilla de Madagascar natural. Esponjoso, ligero y con el dulzor justo.' },
            { id: 3, name: 'Carrot Cake', price: 18.00, category: 'Tartas', img: 'https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/917d6f93-fb36-439a-8c48-884b67b35381_1600w.jpg', desc: 'Zanahorias frescas, nueces y una mezcla secreta de especias. Nuestro Carrot Cake se hornea diariamente para mantener una textura húmeda perfecta, coronada con nuestro frosting de queso crema.' },
            { id: 4, name: 'Crema Catalana', price: 5.50, category: 'Postres', img: 'https://images.unsplash.com/photo-1488477181946-6428a0291777?q=80&w=800&auto=format&fit=crop', desc: 'La tradición respetada al máximo. Leche infusionada con cítricos y canela en rama, yema de huevo de campo y una capa de caramelo crujiente quemado al momento de servir.' },
            { id: 5, name: 'Brownie Clásico', price: 4.00, category: 'Postres', img: 'https://images.unsplash.com/photo-1606313564200-e75d5e30476d?q=80&w=800&auto=format&fit=crop', desc: 'Chocolate negro al 70% de origen único. Un brownie denso, intenso y húmedo por dentro, con una fina costra crujiente por fuera. Para los verdaderos amantes del cacao.' },
            { id: 6, name: 'Roll de Canela', price: 3.80, category: 'Bollería', img: 'https://images.unsplash.com/photo-1509365465985-25d11c17e812?q=80&w=800&auto=format&fit=crop', desc: 'Brioche laminado con mantequilla francesa y canela de Ceylán. Horneado hasta dorarse y glaseado ligeramente para mantener la humedad sin empalagar.' },
            { id: 7, name: 'Cheesecake', price: 22.00, category: 'Tartas', img: 'https://images.unsplash.com/photo-1533134242443-d4fd215305ad?q=80&w=800&auto=format&fit=crop', desc: 'Estilo vasco, cremosa por dentro y tostada por fuera. Utilizamos una mezcla de quesos locales para conseguir un sabor profundo y una textura que se funde en la boca.' },
            { id: 8, name: 'Lemon Pie', price: 18.50, category: 'Tartas', img: 'https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/c543a9e1-f226-4ced-80b0-feb8445a75b9_1600w.jpg', desc: 'Base de sablé bretón crujiente, crema de limón intenso hecha con zumo recién exprimido y un merengue italiano suave y tostado. El equilibrio perfecto entre ácido y dulce.' },
            { id: 9, name: 'Sourdough Bread', price: 6.50, category: 'Panes', img: 'https://images.unsplash.com/photo-1585478259715-876acc5be8eb?q=80&w=800&auto=format&fit=crop', desc: 'Nuestro pan insignia. Masa madre de 7 años, fermentación de 36 horas y harinas ecológicas molidas a la piedra. Corteza crujiente, miga alveolada y un sabor ligeramente ácido.' },
            { id: 10, name: 'Chocolate Chip Cookie', price: 3.50, category: 'Galletas', img: 'https://images.unsplash.com/photo-1499636138143-bd649043ea52?q=80&w=800&auto=format&fit=crop', desc: 'Crujiente en los bordes, chiclosa en el centro. Mantequilla tostada, azúcar moreno y chunks de chocolate belga al 60%. La galleta definitiva.' },
            { id: 11, name: 'Pan de Centeno', price: 7.00, category: 'Panes', img: 'https://images.unsplash.com/photo-1509440159596-0249088772ff?q=80&w=800&auto=format&fit=crop', desc: '100% harina de centeno integral. Un pan denso, oscuro y de sabor profundo, ideal para acompañar ahumados o mermeladas intensas.' },
             { id: 12, name: 'Pistachio Cookie', price: 3.90, category: 'Galletas', img: 'https://images.unsplash.com/photo-1590080875515-8a3a8dc5735e?q=80&w=800&auto=format&fit=crop', desc: 'Galleta de mantequilla infusionada con pasta de pistacho puro y trozos de pistacho tostado. Un color verde natural y un sabor inconfundible.' }
        ];

        let cart = [];
        let currentProductIndex = 0;
        let activeCategory = 'Catálogo';

        window.onload = () => {
            lucide.createIcons();
            router('home'); // VISTA INICIAL CAMBIADA A HOME
            initHeroLoop();
            initMarquee();
            filterProducts('Catálogo'); 
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if(entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, { threshold: 0.1 });

            const statement = document.getElementById('statement-text');
            if(statement) observer.observe(statement);
        };

        function filterProducts(category) {
            activeCategory = category;
            
            const deskButtons = document.querySelectorAll('#desktop-filters button');
            deskButtons.forEach(btn => {
                const btnCat = btn.getAttribute('data-cat');
                if (btnCat === category) {
                    btn.classList.remove('text-zinc-400', 'font-normal');
                    btn.classList.add('text-black', 'font-bold');
                } else {
                    btn.classList.remove('text-black', 'font-bold');
                    btn.classList.add('text-zinc-400', 'font-normal');
                }
            });

            const mobButtons = document.querySelectorAll('#mobile-filters button');
            mobButtons.forEach(btn => {
                const btnCat = btn.getAttribute('data-cat');
                if (btnCat === category) {
                    btn.classList.remove('bg-zinc-50', 'text-zinc-500', 'border-zinc-100');
                    btn.classList.add('bg-black', 'text-white', 'border-black');
                } else {
                    btn.classList.remove('bg-black', 'text-white', 'border-black');
                    btn.classList.add('bg-zinc-50', 'text-zinc-500', 'border-zinc-100');
                }
            });

            renderProducts();
        }

        function renderProducts() {
            const grid = document.getElementById('product-grid');
            if(!grid) return;

            const filteredProducts = activeCategory === 'Catálogo' 
                ? products 
                : products.filter(p => p.category === activeCategory);

            const countEl = document.getElementById('filtered-count');
            if(countEl) countEl.innerText = filteredProducts.length;

            grid.innerHTML = filteredProducts.map((p, index) => `
                <div class="group relative flex flex-col justify-between border border-black bg-white w-full overflow-hidden aspect-[4/5] p-6 cursor-pointer hover:bg-zinc-50 transition-colors duration-300 animate-fade-in" style="animation-delay: ${index * 50}ms" onclick="openProductDetail('${p.name}')">
                    <div class="flex-1 flex items-center justify-center w-full h-full overflow-hidden relative">
                        <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/5bab247f-35d9-400d-a82b-fd87cfe913d2_1600w.webp" class="w-full h-auto object-cover max-w-full mix-blend-multiply transition-transform duration-500 group-hover:scale-110" style="max-width: 100% !important;" alt="${p.name}">
                    </div>
                    <div class="mt-4">
                        <h3 class="text-2xl md:text-3xl font-bold tracking-tighter leading-none text-black">${p.name}</h3>
                    </div>
                </div>
            `).join('');
            
            lucide.createIcons();
        }

        function initMarquee() {
            const container = document.getElementById('marquee-track');
            if(!container) return;
            const textContent = [
            "ARTISAN DESSERTS", "CONTEMPORARY DESIGN", "BAKU DESSERT STUDIO", "20% OFF OUR SIGNATURE PRODUCTS"
            ].map(msg => 
                `<span class="mx-4 md:mx-8 font-bold tracking-widest text-sm md:text-base">${msg}</span>`
            ).join('<span class="mx-2 md:mx-4 opacity-50">•</span>');
            
            container.innerHTML = `
                ${textContent} <span class="mx-2 md:mx-4 opacity-50">•</span>
                ${textContent} <span class="mx-2 md:mx-4 opacity-50">•</span>
                ${textContent} <span class="mx-2 md:mx-4 opacity-50">•</span>
                ${textContent} <span class="mx-2 md:mx-4 opacity-50">•</span>
            `;
        }

        function initHeroLoop() {
            const heroImages = [
                'https://images.unsplash.com/photo-1516919549054-e08258825f80?q=80&w=2560&auto=format&fit=crop',
                'https://images.unsplash.com/photo-1579306194872-64d3b7bac4c2?q=80&w=2560&auto=format&fit=crop', 
                'https://images.unsplash.com/photo-1626803775151-61d756612fcd?q=80&w=2560&auto=format&fit=crop',
                'https://images.unsplash.com/photo-1506459225024-1428097a7e18?q=80&w=2560&auto=format&fit=crop'
            ];
            
            const heroImg = document.getElementById('hero-bg-image');
            if(!heroImg) return;

            heroImages.forEach(src => {
                const img = new Image();
                img.src = src;
            });

            let index = 0;
            setInterval(() => {
                index = (index + 1) % heroImages.length;
                heroImg.src = heroImages[index];
            }, 3500);
        }

        function router(viewId) {
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            const navIds = ['home', 'productos', 'nosotros', 'contacto'];
            navIds.forEach(id => {
                const btn = document.getElementById(`nav-${id}`);
                if(btn) {
                    if(id === viewId) {
                        btn.classList.remove('text-zinc-700', 'font-medium');
                        btn.classList.add('text-black', 'font-bold');
                    } else {
                        btn.classList.remove('text-black', 'font-bold');
                        btn.classList.add('text-zinc-700', 'font-medium');
                    }
                }
            });

            const views = document.querySelectorAll('.page-view');
            views.forEach(view => {
                view.classList.add('hidden');
                view.classList.remove('animate-fade-in');
            });
            const activeView = document.getElementById(`view-${viewId}`);
            if (activeView) {
                activeView.classList.remove('hidden');
                void activeView.offsetWidth; 
                activeView.classList.add('animate-fade-in');
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('translate-y-full');
        }

        function openProductDetail(productName) {
            const index = products.findIndex(p => p.name === productName);
            if (index === -1) return;
            
            currentProductIndex = index;
            const product = products[index];

            document.getElementById('detail-image').src = product.img;
            document.getElementById('detail-title').innerText = product.name;
            document.getElementById('detail-price').innerText = product.price.toFixed(2).replace('.', ',') + '€';
            document.getElementById('detail-desc').innerText = product.desc;
            
            document.getElementById('detail-add-btn').onclick = function() {
                addToCart(product.name, product.price);
            };

            document.getElementById('detail-prev-btn').onclick = function() {
                let newIndex = currentProductIndex - 1;
                if (newIndex < 0) newIndex = products.length - 1;
                openProductDetail(products[newIndex].name);
            };
            
            document.getElementById('detail-next-btn').onclick = function() {
                let newIndex = currentProductIndex + 1;
                if (newIndex >= products.length) newIndex = 0;
                openProductDetail(products[newIndex].name);
            };

            router('product-detail');
        }

        function toggleCart() {
            const drawer = document.getElementById('cart-drawer');
            const overlay = document.getElementById('cart-overlay');
            const isClosed = drawer.classList.contains('translate-x-full');

            if (isClosed) {
                overlay.classList.remove('pointer-events-none', 'opacity-0');
                drawer.classList.remove('translate-x-full');
            } else {
                overlay.classList.add('pointer-events-none', 'opacity-0');
                drawer.classList.add('translate-x-full');
            }
        }

        function addToCart(name, price) {
            const existing = cart.find(item => item.name === name);
            if (existing) {
                existing.qty++;
            } else {
                const product = products.find(p => p.name === name) || { img: '' };
                cart.push({ name, price, qty: 1, img: product.img });
            }
            updateCartUI();
            showToast();
        }

        function removeFromCart(name) {
            cart = cart.filter(item => item.name !== name);
            updateCartUI();
        }

        function changeQty(name, delta) {
            const item = cart.find(i => i.name === name);
            if (item) {
                item.qty += delta;
                if (item.qty <= 0) removeFromCart(name);
                else updateCartUI();
            }
        }

        function updateCartUI() {
            const container = document.getElementById('cart-items');
            const countHeader = document.getElementById('cart-count-header');
            const headerCount = document.getElementById('header-count');
            const mobileHeaderCount = document.getElementById('mobile-header-count');
            const subtotalEl = document.getElementById('cart-subtotal');

            const totalQty = cart.reduce((acc, item) => acc + item.qty, 0);
            const totalAmount = cart.reduce((acc, item) => acc + (item.price * item.qty), 0);
            
            countHeader.innerText = totalQty;
            headerCount.innerText = totalQty;
            if(mobileHeaderCount) mobileHeaderCount.innerText = totalQty;
            
            if (cart.length === 0) {
                container.innerHTML = `
                    <div class="h-full flex flex-col items-center justify-center text-zinc-300 space-y-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="shopping-bag" class="lucide lucide-shopping-bag w-12 h-12 stroke-[1.5] opacity-20"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path><path d="M3 6h18"></path><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
                        <p class="text-sm">Tu cesta está vacía.</p>
                        <button onclick="toggleCart(); router('productos')" class="text-[10px] font-semibold uppercase tracking-widest-custom text-black underline underline-offset-4">Ver Colección</button>
                    </div>`;
            } else {
                container.innerHTML = cart.map(item => `
                    <div class="flex gap-6 animate-fade-in group">
                        <div class="w-20 h-20 bg-zinc-50 border border-zinc-100 flex items-center justify-center flex-shrink-0">
                            <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4734259a-bad7-422f-981e-ce01e79184f2_1600w.jpg" class="w-12 h-12 object-contain mix-blend-multiply">
                        </div>
                        <div class="flex-1 flex flex-col justify-between py-1">
                            <div class="flex justify-between items-start">
                                <h4 class="font-semibold text-sm leading-tight max-w-[120px]">${item.name}</h4>
                                <span class="text-sm font-medium">${(item.price * item.qty).toFixed(2)}€</span>
                            </div>
                            <div class="flex justify-between items-end">
                                <div class="flex items-center gap-4">
                                    <button onclick="changeQty('${item.name}', -1)" class="w-6 h-6 flex items-center justify-center hover:bg-zinc-100 text-zinc-400 hover:text-black transition-colors">-</button>
                                    <span class="text-xs font-medium w-4 text-center">${item.qty}</span>
                                    <button onclick="changeQty('${item.name}', 1)" class="w-6 h-6 flex items-center justify-center hover:bg-zinc-100 text-zinc-400 hover:text-black transition-colors">+</button>
                                </div>
                                <button onclick="removeFromCart('${item.name}')" class="text-[10px] uppercase tracking-widest text-zinc-300 hover:text-black transition-colors">Eliminar</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            subtotalEl.innerText = totalAmount.toFixed(2) + '€';
            lucide.createIcons();
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.classList.remove('translate-y-24', 'opacity-0');
            if(msg) {
                toast.querySelector('p:last-child').innerText = msg;
                toast.querySelector('p:first-child').innerText = 'Info';
            } else {
                toast.querySelector('p:last-child').innerText = 'Producto agregado a la cesta.';
                toast.querySelector('p:first-child').innerText = 'Añadido';
            }
            setTimeout(() => {
                toast.classList.add('translate-y-24', 'opacity-0');
            }, 3000);
        }
    </script>
</body></html>